这是一份基于你提供的视频演示（SVID_20251226_003829_1.mp4）的详细需求分析与设计文档。

通过逐帧分析视频中的操作流，我将你的“辰序”日历应用（参考竞品）的功能点拆解为 **视图层（UI/UX）**、**逻辑层（业务功能）** 和 **数据层** 三个维度。

由于你目前主要关注 HarmonyOS 开发，以下术语和组件设计将尽量贴合 **ArkUI** 和 **HarmonyOS** 的开发规范。

---

### 一、 核心视图与交互设计 (UI/UX)

视频展示了四个主要视图维度的切换，这是日历的骨架。

#### 1. 顶部导航栏 (Top Navigation)

* **功能需求：** 允许用户在不同时间跨度（年、月、周、日）之间快速切换。
* **详细设计：**
* **组件：** `Tabs` 或自定义 `SegmentedControl`。
* **状态：**
* **年 (Year)：** 展示 12 个月的缩略概览。
* **月 (Month)：** 默认视图，展示当前月份的日期网格。
* **周 (Week)：** 展示本周视图（通常配合时间轴）。
* **日 (Day)：** 展示单日的时间轴详情。





#### 2. 月视图 (Month View) - [视频 00:00 - 0:04]

* **功能需求：** 核心交互界面，展示公历、农历、节假日、节气。
* **详细设计：**
* **Grid 布局：** 7列（周日到周六），动态行数（5或6行）。
* **日期单元格 (Date Cell)：**
* **主标题：** 公历日期（数字，大字体）。
* **副标题：** 农历日期/节气/节日（小字体）。
* **样式逻辑：**
* **当前日期：** 高亮圆形背景（视频中为橙色 `26`）。
* **非本月日期：** 灰色显示或隐藏。
* **节假日/周末：** 字体标红（如 `27` 初八，虽不是节日但视频中显示红色，可能是周末高亮）。
* **特殊节日：** 显示中文名称（如“冬至”、“平安夜”、“圣诞节”），背景色块标注（视频中“元旦”有红色背景）。




* **底部信息卡片 (Bottom Info Card)：**
* 展示选中日期的详细信息：“今天 农历冬月初七”、“元旦 2026年1月1日 6天后”。





#### 3. 周/日视图 (Timeline View) - [视频 00:19 - 0:21]

* **功能需求：** 精确查看一天内的时间安排。
* **详细设计：**
* **时间轴：** 纵向滚动列表（`Scroll` + `Column`），左侧显示时间刻度（00:00 - 24:00）。
* **当前时间线：** 一条横贯屏幕的红线，指示当前时刻（0:38）。
* **日程块：** 在对应时间段上渲染色块，展示日程标题。



#### 4. 年视图 (Year View) - [视频 00:22]

* **功能需求：** 宏观查看整年日历。
* **详细设计：**
* **Grid 布局：** 3列 x 4行，每个单元格是一个迷你的月视图。
* **交互：** 点击某个月份，自动跳转并放大到该月的月视图。



---

### 二、 日程管理功能 (Event Management)

这是视频中演示最详细的交互部分 [00:10 - 0:14]。

#### 1. 新建日程 (Create Event)

* **触发方式：** 点击右上角 `+` 号或长按日期。
* **交互形式：** 半屏弹窗（BindSheet）或 全屏页面。
* **字段详情 (Fields)：**
* **智能输入栏：** “一句话智能创建日程”（支持 NLP 语义识别，如输入“明天下午三点开会”，自动填入时间和标题）。
* **标题 (Title)：** 文本输入。
* **地点 (Location)：** 文本输入或地图选点。
* **全天 (All Day)：** `Toggle` 开关。
* **开始/结束时间：** `TimePicker` (滚轮选择器)，精确到分钟。
* **提醒 (Reminders)：** 默认“10分钟前”，点击可选择（准时、5分钟前、1小时前等）。
* **重要性 (Priority)：** `Toggle` (重要提醒)。
* **重复 (Repeat)：** 选择重复规则（不重复、每天、每周、每月、每年）。
* **日历归属：** 选择归属于“我的日历”或“工作日历”（视频底部紫色圆点）。



#### 2. 编辑与查看 (View & Edit)

* **操作：** 在月视图或日视图点击已有日程。
* **功能：** 查看详情，提供“编辑”和“删除”按钮。

---

### 三、 辅助与系统功能 (Utilities)

#### 1. 快捷菜单 (Menu Pop-up) - [视频 00:15 - 0:16]

* **位置：** 右上角更多图标。
* **功能项：**
* **跳转到指定日期 (Jump to date)：** 快速滚轮选择年月日。
* **搜索日程 (Search)：** 全局搜索标题或内容。
* **设置 (Settings)：** 应用偏好设置。
* **帮助和反馈：** 用户支持。



#### 2. 语音/快捷输入

* **观察：** 视频 00:29 底部出现了正在录音的状态或输入框。
* **设计：** 集成语音转文字 SDK，配合上文提到的“智能语义分析”实现语音创建日程。

---

### 四、 针对 HarmonyOS 的技术实现建议

针对你的“辰序”应用，以下是具体的技术选型建议：

| 功能模块 | 推荐 HarmonyOS API / 组件 | 备注 |
| --- | --- | --- |
| **日历核心算法** | `Calendar` Kit (若系统提供) 或 自行封装 `Lunar.ts` | 需处理公农历转换、节气计算 |
| **月视图布局** | `Grid` + `ForEach` | 这种布局性能最好，且容易做响应式 |
| **页面切换** | `Tabs` + `TabContent` | 实现顶部的 年/月/周/日 切换 |
| **新建日程弹窗** | `bindSheet` (半模态转场) | ArkUI 推荐的底部弹窗交互方式 |
| **时间选择** | `DatePicker` / `TimePicker` | 系统原生组件，体验统一 |
| **数据持久化** | `RdbStore` (关系型数据库) | 存储日程数据 (SQLite 封装) |
| **智能创建** | text processing (正则) 或 接入 AI 模型 | 解析“明天下午3点”这类自然语言 |
